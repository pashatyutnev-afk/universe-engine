# TOPIC — FORESHADOWING & PAYOFF (NARRATIVE / ATOMIC MODULE)
FILE: 04_KNOWLEDGE_BASE/10_TOPICS/10_NARRATIVE/05__NARRATIVE__FORESHADOWING_PAYOFF.md

SCOPE: Universe Engine
LAYER: 04_KNOWLEDGE_BASE
DOC_TYPE: TOPIC
INDEX_TYPE: ATOMIC_KB_MODULE
LEVEL: L3
STATUS: DRAFT
LOCK: OPEN
VERSION: 1.0.0
UID: UE.KB.TOPIC.NARR.FORESHADOW_PAYOFF.001
OWNER: SYSTEM
ROLE: Provide an actionable method to plant setup and deliver payoff without cheating; includes setup-payoff ledger, pass/fail examples, and a quick audit checklist

CHANGE_NOTE:
- DATE: 2026-01-14
- TYPE: MAJOR
- SUMMARY: "Created atomic topic for setup/payoff: promise-plant-remind-payoff workflow and anti-cheat checks."
- REASON: "Twists and resolutions feel fake without setup; setup without payoff feels empty. This module makes it auditable."
- IMPACT: "Entities can design fair twists, satisfying reveals, and avoid deus-ex-machina by maintaining a setup/payoff ledger."
- CHANGE_ID: UE.CHG.2026-01-14.KB.TOPIC.NARR.005

---

TYPE: type_topic
STATE: UNREAD
TAGS:
- domain_narrative
- type_topic
- skill_procedure
- gate_quality
- maturity_seed

---

## 1) PURPOSE
Дать процедуру, как:
- “посадить” (setup) элементы заранее,
- “собрать” (payoff) их в нужный момент,
- избежать читерства (deus ex / твист из ниоткуда),
- проверить историю через Setup→Payoff Ledger (реестр связок).

---

## 2) WHEN TO USE
- Ты строишь твист/развязку/ключевое решение и хочешь, чтобы оно было “честным”.
- Читатель/слушатель говорит: “взялось из воздуха”.
- В истории много намёков, но нет удовлетворяющих сборок (payoffs).

## 3) WHEN NOT TO USE
- Ты решаешь причинность сцены к сцене (это другой topic).
- Ты пишешь чисто атмосферный символизм без сюжетной функции (тогда нужны другие правила жанра, отдельно).
- Ты проектируешь один кадр/визуальный образ без сюжетного payoff (можно, но это не этот модуль).

---

## 4) INPUTS (MINIMUM)
- План событий/сцен (или хотя бы ключевые поворотные точки).
- Список важнейших поворотов/раскрытий/решений (what must land).
- Персонажи и их скрытые/явные намерения (если есть).

## 5) OUTPUTS (MINIMUM)
- Setup→Payoff Ledger (таблица: setup, где посажено, где собрано).
- Для каждого payoff: “fairness proof” (почему это честно).
- Решение: PASS/REWORK/FAIL по честности payoff.

---

## 6) DEFINITIONS (STRICT)
### Setup
Информация/объект/правило/привычка/отношение, которое **подготовлено заранее**.

### Payoff
Момент, где setup **использован** и **меняет состояние** (решение, поворот, исход, понимание).

### Cheating (forbidden)
Payoff появляется без setup, или setup есть, но он:
- скрыт от аудитории нечестно,
- противоречит ранее заданным правилам,
- решает проблему без цены и без причинности.

---

## 7) PROCEDURE (SETUP → PAYOFF LEDGER)
### Step 1 — List PAYOFFS (what must land)
Выпиши 3–10 ключевых payoff:
- твист / раскрытие / решение / победа / поражение / “ключ” к проблеме

Формат:
- P1: ...
- P2: ...

### Step 2 — For each payoff, write the PROMISE
Что аудитория должна ожидать (в общем виде), не спойлеря.
Формат:
- “История обещает, что … (будет объяснение/цена/правило/ключ).”

### Step 3 — Plant SETUP (minimum 2 touches)
Для каждого payoff посади минимум 2 “касания”:
- S1: ранняя посадка (видимая деталь/правило/привычка/возможность)
- S2: подтверждение/усиление (второй намёк/демонстрация правила)

Правило:
- setup должен быть различим, но не “кричащий”.

### Step 4 — Decide VISIBILITY (honest vs hidden)
Определи тип:
- HONEST: аудитория может заметить (нормально)
- SUBTLE: заметить сложно, но возможно (нормально)
- HIDDEN: скрыто так, что заметить невозможно (опасно)

HIDDEN допускается только если:
- payoff не решает главную проблему “из воздуха”,
- и есть другие honest/subtle setup.

### Step 5 — Add REMINDER (optional, before payoff)
Если payoff важный, добавь “напоминание” ближе к моменту:
- короткий повтор детали/ситуации/правила без объяснения

### Step 6 — Deliver PAYOFF with COST or CONSEQUENCE
Payoff должен:
- менять state (см. topic turning points), и
- иметь цену/последствие, чтобы не быть бесплатной кнопкой.

### Step 7 — Fairness audit (3 questions)
Для каждого payoff ответь:
1) “Могла ли аудитория *в принципе* догадаться?”
2) “Есть ли минимум 2 setup касания?”
3) “Не ломает ли payoff закон/правила мира?”

Если любой ответ “нет” → REWORK/FAIL.

---

## 8) LEDGER FORMAT (COPY)
Используй таблицу:

| PAYOFF_ID | PAYOFF (what happens) | PROMISE | SETUP_1 (scene/beat) | SETUP_2 (scene/beat) | REMINDER (optional) | COST/CONSEQUENCE | FAIRNESS (PASS/REWORK/FAIL) |
|---|---|---|---|---|---|---|---|

---

## 9) QUICK CHECKLIST (PASS/FAIL)
- [ ] Каждый ключевой payoff выписан
- [ ] Для каждого payoff есть PROMISE
- [ ] Для каждого payoff есть минимум 2 setup касания
- [ ] Нет payoff “из воздуха” (cheat)
- [ ] Payoff меняет состояние и имеет цену/последствие
- [ ] Fairness audit пройден (3 вопроса)

PASS IF:
- все пункты true

REWORK IF:
- setup есть, но слабый/один/слишком скрытый

FAIL IF:
- payoff решает проблему без подготовленного setup или ломает правила мира

---

## 10) EXAMPLES (MANDATORY)
### 10.1 PASS EXAMPLE — “Keycard twist”
PAYOFF:
- Герой открывает закрытую дверь “ключ-картой”, которую достаёт в критический момент.
SETUP:
- S1: в начале герой замечает привычку охранника носить карту на клипсе.
- S2: позже показано, что герой умеет незаметно снимать предметы (малый эпизод с другим объектом).
REMINDER:
- перед сценой дверь/охрана снова мелькают, карта на клипсе видна.
COST:
- герой рискует раскрытием; охранник замечает пропажу → погоня.
WHY PASS:
- аудитория могла догадаться, есть 2 касания, payoff имеет цену и меняет state.

### 10.2 FAIL EXAMPLE — “Deus ex hack”
PAYOFF:
- Герой внезапно “взламывает систему”, хотя раньше не было навыка, инструмента или доступа.
SETUP:
- отсутствует
WHY FAIL:
- читерство: решение из воздуха, нет подготовки, ломает причинность.

### 10.3 EDGE EXAMPLE — “Subtle setup”
PAYOFF:
- Выясняется, что союзник — предатель.
SETUP:
- S1: союзник избегает прямых ответов на конкретные вопросы.
- S2: в критический момент он “случайно” уводит героя от важного места.
REMINDER:
- не обязателен (может быть слишком явным), но можно добавить деталь поведения.
COST:
- доверие разрушено; герой теряет ресурс/время.
WHY EDGE:
- setup психологический, но должен быть повторяемым и проверяемым (не один намёк).

---

## 11) COMMON FAILURE MODES
- Failure: “один намёк”
  Fix: добавь второе касание (демонстрация правила/навыка/объекта).
- Failure: “слишком скрыто”
  Fix: сделай setup HONEST/SUBTLE (различимый элемент).
- Failure: “payoff бесплатный”
  Fix: добавь цену/последствие или ограничение.
- Failure: “ломает правила мира”
  Fix: либо запретить payoff, либо закрепить правило заранее отдельным модулем/сценой.

---

## 12) RELATED (PATH ONLY)
REL:
- REL: complements -> PATH: 04_KNOWLEDGE_BASE/10_TOPICS/10_NARRATIVE/02__NARRATIVE__CAUSE_EFFECT_CHAIN.md
- REL: complements -> PATH: 04_KNOWLEDGE_BASE/10_TOPICS/10_NARRATIVE/04__NARRATIVE__TURNING_POINTS.md
- REL: complements -> PATH: 04_KNOWLEDGE_BASE/10_TOPICS/10_NARRATIVE/03__NARRATIVE__TENSION_STAKES.md
- REL: complements -> PATH: 04_KNOWLEDGE_BASE/10_TOPICS/10_NARRATIVE/06__NARRATIVE__PACING_RHYTHM.md

XREF:
- XREF: task_to_scope -> PATH: 04_KNOWLEDGE_BASE/40_RELATION_XREF/01__TASK_TO_KB_SCOPE_MAP.md

---

## 13) COMPLIANCE
- SOURCE_LOCK: required (no invention beyond KB; this module defines a checkable procedure and ledger)
- MEMORY: allowed only if STATE=VERIFIED and meaning unchanged
- KB_USAGE_GATE: reference this topic via PATH in KB_SOURCES when used

--- END.
